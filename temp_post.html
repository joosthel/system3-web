<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Reviewing 2024</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <link rel="stylesheet" href="/assets/css/main.css">
    <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Joost Helfers | system¬≥" />
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Reviewing 2024 | Joost Helfers system¬≥</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Reviewing 2024" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A look back at a transformative year. With experiences from startup life, hands-on 3D work to moving cities and rebalancing priorities. 2024 brought growth, learnings, and new beginnings as I plan a more intentional path into 2025." />
<meta property="og:description" content="A look back at a transformative year. With experiences from startup life, hands-on 3D work to moving cities and rebalancing priorities. 2024 brought growth, learnings, and new beginnings as I plan a more intentional path into 2025." />
<link rel="canonical" href="http://localhost:4000/blog/2025/01/01/review-2024.html" />
<meta property="og:url" content="http://localhost:4000/blog/2025/01/01/review-2024.html" />
<meta property="og:site_name" content="Joost Helfers system¬≥" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-01-01T00:00:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Reviewing 2024" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-01-01T00:00:00+01:00","datePublished":"2025-01-01T00:00:00+01:00","description":"A look back at a transformative year. With experiences from startup life, hands-on 3D work to moving cities and rebalancing priorities. 2024 brought growth, learnings, and new beginnings as I plan a more intentional path into 2025.","headline":"Reviewing 2024","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/2025/01/01/review-2024.html"},"url":"http://localhost:4000/blog/2025/01/01/review-2024.html"}</script>
<!-- End Jekyll SEO tag -->


    <!-- Google Analytics 4 with Default Tracking -->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FV9Q5RL89T"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      
      // Check user's cookie preference
      const cookieConsent = localStorage.getItem('cookie-consent');
      
      if (cookieConsent === 'declined') {
        // Only disable if explicitly declined
        console.log('üö´ Analytics disabled - user declined cookies');
        gtag('consent', 'default', {
          'analytics_storage': 'denied',
          'ad_storage': 'denied'
        });
      } else {
        // Default: Enable analytics (accepted or no choice made yet)
        console.log('üìä Analytics enabled - tracking page views');
        gtag('config', 'G-FV9Q5RL89T', {
          anonymize_ip: true,
          cookie_flags: 'SameSite=None;Secure'
        });
        
        // Log page view for debugging
        console.log('‚úÖ GA4 page view sent for:', window.location.pathname);
      }
    </script>
    

    <!-- 3D Model Viewer -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

    <!-- Favicon-->
    <link rel="icon" type="image/png" href="/assets/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/assets/favicon/favicon.svg" />
    <link rel="shortcut icon" href="/assets/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="JH" />
    <link rel="manifest" href="/assets/favicon/site.webmanifest" />
  </head>
  <body>
    <header class="site-header">
  <div class="header-left">
    <a href="/" class="header-logo" title="Joost Helfers | system¬≥">
      <img src="/assets/imgs/system3_logo_transparent_black.png" alt="Joost Helfers | system¬≥ Logo" />
    </a>
    <a href="/" class="header-logo-text">
      
      <div class="site-title">Joost Helfers | system¬≥</div>
      
    </a>
  </div>

  <!-- ASCII Glitch Bar (on desktop) -->
    <div class="ascii-bar-container">
    <div id="ascii-progress-bar" class="ascii-progress-bar">[]</div>
  </div>
    <!-- Email contact link (works on both desktop and mobile) -->
  <div class="header-right">
    <a href="mailto:mail@joosthelfers.com" class="cta-button cta-button-small">
      <span class="cta-text">Send me an E-Mail</span>
    </a>
  </div>
</header>
    
    <main class="page-content" aria-label="Content">
      <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Reviewing 2024</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2025-01-01T00:00:00+01:00" itemprop="datePublished">Jan 1, 2025
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>2024 was a year of transformation for me ‚Äî my first full year of working full-time, filled with challenges, growth, and plenty of lessons along the way. Time to look back on the past year while preparing for the coming one.</p>

<p>In January I moved to a small town near Munich and started my role as a Technical 3D artist at INYO and from then on the pace of work accelerated rapidly.</p>

<p>I learned a lot: refining my skills in 3D visualizations for real-world applications, navigating the dynamics of working at a start-up (it‚Äôs all about money and productive outcomes), collaborating successfully with multidisciplinary teams, and explaining my area of expertise to colleagues from different fields. I also gained insight into how cars and autonomous driving works, improved my task management skills, and even learned how to build a car (I have changed the break fluid on the INYO CAB so many times I‚Äôve lost count). On top of that I mastered the art of packing light for long work trips and picked up so many other things along the way.</p>

<p>I really dove deep into so many areas and got to meet a lot of talented and inspiring people. This really motivated me and I am very grateful for opportunities I have at INYO (if you read this, thanks for the trust Marcus!!).</p>

<p>At the same time I realized that while working a lot, building and creating new things can be rewarding, but it‚Äôs also very important to not letting your identity be solely defined by your work. The long hours and seemingly never ending to-do list with tasks that are interesting but only partly igniting ‚Äúpassion‚Äù took a toll on my mental health.</p>

<p>I‚Äôve already made some changes to address this: I transitioned to part-time freelance work, moved back to Berlin, and focused on passion projects outside of work. This includes designing furniture for my flat, setting up this website, and diving into web design and digital twins ‚Äî areas I am eager to explore more deeply.</p>

<p>In 2025, I plan to deepen my expertise in digital twins, interactive design and all things 3D, while prioritizing personal projects that align with my values and goals. Balancing passion-driven work with sustainable and creative practices for my mental health is a key objective!</p>

<p>This year was interesting and I grew a lot. Let‚Äôs continue with this momentum into 2025 and focus on what sparks joy and truly matters!</p>

<p>Have a great year everyone.</p>

  </div><a class="u-url" href="/blog/2025/01/01/review-2024.html" hidden></a>
</article>

    </main>
    
    <footer class="site-footer">
  <div class="footer-main">
    <!-- Column 1: Logo and Title -->
    <div class="footer-column">
      <div class="footer-logo">
        <img src="/assets/imgs/system3_logo_transparent_black.png" alt="Logo" />
        <h2>Joost Helfers | system¬≥</h2>
      </div>
      <p class="footer-description">Joost Helfers is a Creative Technologist working at the intersection of 3D, AI and emerging technology. His work is driven by a spatial approach, creating high-impact visuals and advanced technical workflows that help brands and designers communicate complex ideas. Combining his architectural and advanced 3D design background with startup experience, he builds innovative solutions that work.</p>
    </div>
    
    <!-- Column 2: Site Map -->
    <div class="footer-column">
      <nav class="footer-nav">
        <ul class="footer-links">
          <li><a href="/">HOME</a></li><br>
          <li><a href="/assets/pdf/CV-Helfers.pdf" onclick="trackCVDownload()" target="_blank">CV</a></li><br>
          <li><a href="/privacy/">PRIVACY</a></li><br>
          <li><a href="/imprint/">IMPRINT</a></li><br>
        </ul>
      </nav>
    </div>
  </div>

  <!-- Dynamic spacer -->
  <div class="footer-spacer"></div>
    <div class="footer-bottom">
    <div class="footer-bottom-column">
      <p>Available everywhere, currently in:</p>
      <p>Berlin, Germany</p>
      <p id="berlin-time">Loading time...</p>
    </div>
      <div class="footer-bottom-column">
      <p><a href="mailto:mail@joosthelfers.com">mail@joosthelfers.com</a></p>
      <div class="social-links">
        <a href="https://github.com/joosthel">GitHub</a>
        <a href="https://instagram.com/joosthel">Instagram</a>
        <a href="https://linkedin.com/in/joosthel">LinkedIn</a>
      </div>
    
    <div class="footer-bottom-column">
      <p>&copy; 2025 Joost Helfers | system¬≥</p>
    </div>
  </div>
</footer>

    <!-- Cookie Notice -->
    <div id="cookie-notice" class="cookie-notice" style="display: none;">
      <div class="cookie-content">
        <div class="cookie-text">
          <p>This site uses analytics cookies so I know how many people are visiting my page. I love getting insights through data. ¬Ø\_(„ÉÑ)_/¬Ø</p>
        </div>
        <div class="cookie-actions">
          <button id="cookie-accept" class="cookie-btn cookie-accept">Accept</button>
          <button id="cookie-decline" class="cookie-btn cookie-decline">Decline</button>
          <a href="/privacy/" class="cookie-link">Privacy</a>
        </div>
      </div>
    </div>

    <!-- Slideshow JavaScript -->
<script>
      document.addEventListener('DOMContentLoaded', function() {
        // Footer Timestamp
        function updateBerlinTime() {
          const berlinTime = new Date().toLocaleTimeString('en-US', {
            timeZone: 'Europe/Berlin',
            hour: '2-digit', 
            minute: '2-digit',
            second: '2-digit',
            hour12: false
          });
          const timeElement = document.getElementById('berlin-time');
          if (timeElement) {
            timeElement.textContent = berlinTime + ' CET';
          }
        }
        
        updateBerlinTime();
        setInterval(updateBerlinTime, 1000);        
        
        // Slideshow functionality
        const slideshowImages = document.querySelectorAll('.slideshow-image');
        if (slideshowImages.length > 1) {
          let currentSlide = 0;
          
          function nextSlide() {
            slideshowImages[currentSlide].classList.remove('active');
            currentSlide = (currentSlide + 1) % slideshowImages.length;
            slideshowImages[currentSlide].classList.add('active');
          }
          
          setInterval(nextSlide, 3000);
        }
      
        // Mobile menu toggle functionality
        const menuToggle = document.querySelector('.mobile-menu-toggle');
        const navMenu = document.querySelector('.header-right');
        
        if (menuToggle && navMenu) {
          menuToggle.addEventListener('click', function() {
            navMenu.classList.toggle('active');
            menuToggle.classList.toggle('active');
            document.body.classList.toggle('menu-open'); 
          });
          
          const navLinks = navMenu.querySelectorAll('a');
          navLinks.forEach(link => {
            link.addEventListener('click', function() {
              navMenu.classList.remove('active');
              menuToggle.classList.remove('active');
              document.body.classList.remove('menu-open');
            });
          });
        }        // Portfolio carousel functionality
        const carousel = document.querySelector('.portfolio-carousel');
        const prevBtn = document.querySelector('.carousel-prev');
        const nextBtn = document.querySelector('.carousel-next');
        const indicators = document.querySelectorAll('.indicator');

        if (carousel) {
          const cards = carousel.querySelectorAll('.portfolio-card');
          let currentIndex = 0;
          const totalCards = cards.length;
          
          if (totalCards === 0) return;
          
          function getCardWidth() {
            const card = carousel.querySelector('.portfolio-card');
            if (!card) return 0;
            return card.offsetWidth;
          }
          
          function getGap() {
            const computedStyle = window.getComputedStyle(carousel);
            return parseInt(computedStyle.gap) || 0;
          }
          
          function getVisibleCards() {
            const isMobile = window.innerWidth <= 768;
            return isMobile ? 1 : 4;
          }
          
          function getMaxIndex() {
            const visibleCards = getVisibleCards();
            return Math.max(0, totalCards - visibleCards);
          }
          
          function shouldShowNavigation() {
            return totalCards > getVisibleCards();
          }
            function updateNavigationVisibility() {
            const shouldShow = shouldShowNavigation();
            
            // Hide/show navigation buttons
            if (prevBtn) prevBtn.style.display = shouldShow ? 'flex' : 'none';
            if (nextBtn) nextBtn.style.display = shouldShow ? 'flex' : 'none';
            
            // Hide/show entire controls container
            const controlsContainer = document.querySelector('.carousel-controls');
            if (controlsContainer) {
              controlsContainer.style.display = shouldShow ? 'flex' : 'none';
            }
          }
            function updateCarouselPosition(animate = true) {
            const cardWidth = getCardWidth();
            const gap = getGap();
            const isMobile = window.innerWidth <= 768;
            const maxIndex = getMaxIndex();
            
            // Clamp currentIndex to valid range for bounded scrolling
            if (!isMobile) {
              currentIndex = Math.max(0, Math.min(currentIndex, maxIndex));
            } else {
              // Keep endless scrolling on mobile
              currentIndex = ((currentIndex % totalCards) + totalCards) % totalCards;
            }
            
            // On mobile, use full card width without gap to prevent shifting
            const offset = isMobile ? 
              currentIndex * cardWidth : 
              currentIndex * (cardWidth + gap);
            
            carousel.style.transition = animate ? 'transform 0.4s ease' : 'none';
            carousel.style.transform = `translateX(-${offset}px)`;
            
            // Update indicators
            const displayIndex = isMobile ? 
              ((currentIndex % totalCards) + totalCards) % totalCards : 
              currentIndex;
              
            indicators.forEach((indicator, idx) => {
              indicator.classList.toggle('active', idx === displayIndex);
            });
            
            // Update button states for desktop
            if (!isMobile && shouldShowNavigation()) {
              if (prevBtn) prevBtn.disabled = currentIndex <= 0;
              if (nextBtn) nextBtn.disabled = currentIndex >= maxIndex;
            }
          }
          
          function nextSlide() {
            const isMobile = window.innerWidth <= 768;
            const maxIndex = getMaxIndex();
            
            if (isMobile) {
              // Endless scrolling on mobile
              currentIndex = (currentIndex + 1) % totalCards;
            } else {
              // Bounded scrolling on desktop
              if (currentIndex < maxIndex) {
                currentIndex++;
              }
            }
            updateCarouselPosition();
          }
          
          function prevSlide() {
            const isMobile = window.innerWidth <= 768;
            const maxIndex = getMaxIndex();
            
            if (isMobile) {
              // Endless scrolling on mobile
              currentIndex = (currentIndex - 1 + totalCards) % totalCards;
            } else {
              // Bounded scrolling on desktop
              if (currentIndex > 0) {
                currentIndex--;
              }
            }
            updateCarouselPosition();
          }
          
          // Initialize
          updateNavigationVisibility();
          updateCarouselPosition(false);
          
          if (prevBtn) {
            prevBtn.addEventListener('click', prevSlide);
          }
          
          if (nextBtn) {
            nextBtn.addEventListener('click', nextSlide);
          }
            // Touch events for swiping
          let touchStartX = 0;
          let touchEndX = 0;
          let isDragging = false;
          let hasMoved = false;
          
          carousel.addEventListener('touchstart', function(e) {
            touchStartX = e.touches[0].clientX;
            isDragging = true;
            hasMoved = false;
            e.stopPropagation();
          }, {passive: true});
          
          carousel.addEventListener('touchmove', function(e) {
            if (!isDragging) return;
            hasMoved = true;
            touchEndX = e.touches[0].clientX;
            e.preventDefault();
            e.stopPropagation();
          });
          
          carousel.addEventListener('touchend', function(e) {
            if (!isDragging || !hasMoved) {
              isDragging = false;
              return;
            }
            isDragging = false;
            
            const difference = touchStartX - touchEndX;
            const threshold = 50;
            
            if (Math.abs(difference) > threshold) {
              if (difference > 0) {
                nextSlide();
              } else {
                prevSlide();
              }
            }
          }, {passive: true});
          
          // Indicator click handlers
          indicators.forEach((indicator, idx) => {
            indicator.addEventListener('click', () => {
              currentIndex = idx;
              updateCarouselPosition();
            });
          });
          
          // Window resize handler
          let resizeTimeout;
          window.addEventListener('resize', function() {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
              updateNavigationVisibility();
              updateCarouselPosition(false);
            }, 250);
          });
        }

        // ASCII Progress Bar
        const asciiBar = document.getElementById('ascii-progress-bar');
        if (asciiBar) {
          const maxLength = 40;
          let currentPosition = 0;
          const asciiChars = '!@#$%^&*()_+-={}|;:,.<>?/~`';
          
          function updateAsciiBar() {
            if (currentPosition >= maxLength) {
              asciiBar.textContent = '[' + ' '.repeat(maxLength) + ']';
              currentPosition = 0;
              setTimeout(updateAsciiBar, 500);
              return;
            }
            
            let barContent = asciiBar.textContent;
            const randomChar = asciiChars.charAt(Math.floor(Math.random() * asciiChars.length));
            barContent = barContent.substring(0, currentPosition + 1) + randomChar + barContent.substring(currentPosition + 2);
            
            asciiBar.textContent = barContent;
            currentPosition++;
            
            setTimeout(updateAsciiBar, 100);
          }
          
          updateAsciiBar();
        }

        // Lab Masonry Grid
        function initMasonry() {
          const grid = document.getElementById('lab-masonry');
          if (!grid) return;
          
          const items = Array.from(grid.querySelectorAll('.lab-item'));
          if (items.length === 0) return;
          
          // Skip masonry on mobile - use CSS grid instead
          if (window.innerWidth <= 600) {
            items.forEach(item => {
              item.style.position = 'static';
              item.style.left = 'auto';
              item.style.top = 'auto';
              item.style.width = 'auto';
            });
            grid.style.height = 'auto';
            grid.style.position = 'static';
            return;
          }
          
          // Reset grid
          grid.style.height = 'auto';
          grid.style.position = 'relative';
          
          // Calculate columns
          const containerWidth = grid.offsetWidth;
          const minItemWidth = 280;
          const gap = 16;
          const calculatedCols = Math.floor((containerWidth + gap) / (minItemWidth + gap));
          const cols = Math.min(4, Math.max(1, calculatedCols));
          
          const columnHeights = Array(cols).fill(0);
          
          // Position each item
          items.forEach(item => {
            const img = item.querySelector('img');
            if (!img || !img.naturalWidth || !img.naturalHeight) return;
            
            const aspectRatio = img.naturalHeight / img.naturalWidth;
            const itemWidth = (containerWidth - gap * (cols - 1)) / cols;
            const itemHeight = itemWidth * aspectRatio;
            
            // Find shortest column
            const shortestCol = columnHeights.indexOf(Math.min(...columnHeights));
            
            // Position item
            const x = shortestCol * (itemWidth + gap);
            const y = columnHeights[shortestCol];
            
            item.style.position = 'absolute';
            item.style.left = x + 'px';
            item.style.top = y + 'px';
            item.style.width = itemWidth + 'px';
            
            // Update column height
            columnHeights[shortestCol] += itemHeight + gap;
          });
          
          // Set container height
          grid.style.height = Math.max(...columnHeights) + 'px';
        }

        // Initialize masonry after images load
        let loadedImages = 0;
        const labImages = document.querySelectorAll('#lab-masonry img');
        
        if (labImages.length > 0) {
          labImages.forEach(img => {
            if (img.complete) {
              loadedImages++;
              if (loadedImages === labImages.length) {
                initMasonry();
              }
            } else {
              img.addEventListener('load', () => {
                loadedImages++;
                if (loadedImages === labImages.length) {
                  initMasonry();
                }
              });
            }
          });
          
          // Fallback - initialize after a delay even if not all images loaded
          setTimeout(initMasonry, 1000);
        }        // Resize handler for masonry
        let masonryResizeTimeout;
        window.addEventListener('resize', () => {
          clearTimeout(masonryResizeTimeout);
          masonryResizeTimeout = setTimeout(initMasonry, 250);
        });        // CTA Button Rainbow Effect
        const ctaButtons = document.querySelectorAll('.cta-button, .cta-button-small');
        
        ctaButtons.forEach((button) => {
          // Just ensure the rainbow effect works on hover
          // CSS handles all the animation and visual effects
        });

        // External Links - Open in new tab
        document.querySelectorAll('a[href]').forEach(link => {
          const href = link.getAttribute('href');
          if (href && href.match(/^https?:\/\//) && !href.includes('joosthelfers.com')) {
            link.target = '_blank';
            link.rel = 'noopener noreferrer';
          }
        });
      });

      // CV Download Tracking Function
      function trackCVDownload() {
        // Track with Google Analytics 4 if available
        if (typeof gtag !== 'undefined') {
          // File download event (standard GA4 event)
          gtag('event', 'file_download', {
            'file_name': 'CV-Helfers.pdf',
            'file_extension': 'pdf',
            'link_text': 'Download CV',
            'link_url': '/assets/pdf/CV-Helfers.pdf',
            'link_classes': 'footer-nav-link'
          });
          
          // Custom CV interest event for better tracking
          gtag('event', 'cv_download', {
            'event_category': 'engagement',
            'event_label': 'CV Footer Download',
            'value': 1,
            'page_location': window.location.href,
            'page_referrer': document.referrer
          });
        }
        
        console.log('CV download tracked:', {
          timestamp: new Date().toISOString(),
          method: 'footer_link',
          userAgent: navigator.userAgent.substring(0, 100),
          referrer: document.referrer,
          page: window.location.pathname
        });
      }

      // Cookie Notice Functionality
      function initCookieNotice() {
        const cookieNotice = document.getElementById('cookie-notice');
        const acceptBtn = document.getElementById('cookie-accept');
        const declineBtn = document.getElementById('cookie-decline');
        
        // Check if user has already made a choice
        const cookieConsent = localStorage.getItem('cookie-consent');
        
        if (!cookieConsent) {
          // Show cookie notice after a short delay
          setTimeout(() => {
            cookieNotice.style.display = 'block';
            setTimeout(() => cookieNotice.classList.add('show'), 100);
          }, 2000);
        }
        
        // Handle accept
        acceptBtn.addEventListener('click', () => {
          console.log('üç™ Cookie consent accepted');
          localStorage.setItem('cookie-consent', 'accepted');
          hideCookieNotice();
          
          // Enable Google Analytics if not already enabled
          if (typeof gtag !== 'undefined') {
            console.log('üìä Updating GA4 consent to granted');
            gtag('consent', 'update', {
              'analytics_storage': 'granted'
            });
            gtag('event', 'cookie_consent', {
              'event_category': 'privacy',
              'event_label': 'accepted',
              'value': 1
            });
            console.log('‚úÖ GA4 consent updated and event sent');
            
            // Send immediate page view
            gtag('config', 'G-FV9Q5RL89T', {
              page_path: window.location.pathname
            });
          } else {
            console.error('‚ùå gtag not available');
          }
        });
        
        // Handle decline
        declineBtn.addEventListener('click', () => {
          console.log('üö´ Cookie consent declined - disabling analytics');
          localStorage.setItem('cookie-consent', 'declined');
          hideCookieNotice();
          
          // Disable Google Analytics immediately
          if (typeof gtag !== 'undefined') {
            gtag('consent', 'update', {
              'analytics_storage': 'denied',
              'ad_storage': 'denied'
            });
            console.log('‚ùå Analytics tracking disabled');
            
            // Reload page to fully disable tracking
            setTimeout(() => {
              window.location.reload();
            }, 500);
          }
        });
        
        function hideCookieNotice() {
          cookieNotice.classList.remove('show');
          setTimeout(() => {
            cookieNotice.style.display = 'none';
          }, 400);
        }
      }

      // Initialize cookie notice
      initCookieNotice();
    </script>

    <!-- Lightbox for images -->
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Create lightbox element
      const lightbox = document.createElement('div');
      lightbox.className = 'lightbox-overlay';
      lightbox.innerHTML = `
        <div class="lightbox-container">
          <button class="lightbox-close">&times;</button>
          <img class="lightbox-image" src="" alt="">
          <div class="lightbox-caption"></div>
          <div class="lightbox-nav">
            <button class="lightbox-prev">‚Äπ</button>
            <button class="lightbox-next">‚Ä∫</button>
          </div>
        </div>
      `;
      document.body.appendChild(lightbox);

      let currentImageIndex = 0;
      let lightboxImages = [];

      // Open lightbox
      function openLightbox(index) {
        currentImageIndex = index;
        const lightboxImg = lightbox.querySelector('.lightbox-image');
        const lightboxCaption = lightbox.querySelector('.lightbox-caption');
        
        lightboxImg.src = lightboxImages[currentImageIndex].src;
        lightboxImg.alt = lightboxImages[currentImageIndex].alt;
        lightboxCaption.textContent = lightboxImages[currentImageIndex].caption;
        
        lightbox.classList.add('active');
        document.body.style.overflow = 'hidden';
        
        // Track image view
        if (typeof gtag !== 'undefined') {
          const imageName = lightboxImages[currentImageIndex].alt || `image-${index + 1}`;
          const category = lightboxImages[currentImageIndex].category || 'Image';
          gtag('event', 'image_view', {
            'event_category': category,
            'event_label': imageName
          });
          console.log('üìä ' + category + ':', imageName);
        }
      }

      // Close lightbox
      function closeLightbox() {
        lightbox.classList.remove('active');
        document.body.style.overflow = '';
      }

      // Navigate lightbox
      function navigateLightbox(direction) {
        if (direction === 'next') {
          currentImageIndex = (currentImageIndex + 1) % lightboxImages.length;
        } else {
          currentImageIndex = (currentImageIndex - 1 + lightboxImages.length) % lightboxImages.length;
        }
        openLightbox(currentImageIndex);
      }

      // Add lightbox to portfolio project page images
      const projectImages = document.querySelectorAll('.post img:not(.project-video)');
      if (projectImages.length > 0) {
        lightboxImages = Array.from(projectImages).map(img => ({
          src: img.src,
          alt: img.alt,
          caption: img.nextElementSibling && img.nextElementSibling.tagName === 'EM' ? img.nextElementSibling.textContent : '',
          category: 'Portfolio'
        }));
        
        projectImages.forEach((img, index) => {
          img.addEventListener('click', function() {
            openLightbox(index);
          });
        });
      }

      // Add lightbox to lab images
      const labImages = document.querySelectorAll('.lab-item img');
      if (labImages.length > 0) {
        lightboxImages = Array.from(labImages).map(img => ({
          src: img.src,
          alt: img.alt,
          caption: '',
          category: 'Lab'
        }));
        
        labImages.forEach((img, index) => {
          img.style.cursor = 'pointer';
          img.addEventListener('click', function() {
            openLightbox(index);
          });
        });
      }

      // Lightbox event listeners
      lightbox.querySelector('.lightbox-close').addEventListener('click', closeLightbox);
      lightbox.querySelector('.lightbox-prev').addEventListener('click', () => navigateLightbox('prev'));
      lightbox.querySelector('.lightbox-next').addEventListener('click', () => navigateLightbox('next'));
      
      lightbox.addEventListener('click', function(e) {
        if (e.target === lightbox) {
          closeLightbox();
        }
      });

      // Keyboard navigation
      document.addEventListener('keydown', function(e) {
        if (lightbox.classList.contains('active')) {
          if (e.key === 'Escape') closeLightbox();
          if (e.key === 'ArrowLeft') navigateLightbox('prev');
          if (e.key === 'ArrowRight') navigateLightbox('next');
        }
      });
    });
    </script>

  </body>
</html>